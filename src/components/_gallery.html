<div class="gallery-component"
     style="--gallery-width: @@width;
            --gallery-height: @@height;
            --gallery-radius: @@border-radius;
            --gallery-dot-color: @@dot-color;
            --gallery-dot-size: @@dot-size;
            --gallery-btn-size: @@btn-size;
            --gallery-bg: @@background-color;">
    <div class="gallery__container">
        <!-- Контейнер изображения -->
        <img src="@@img1" alt="Слайд" class="gallery__slide" id="currentSlide">

        <!-- Кнопки -->
        <button class="gallery__btn gallery__btn--prev">
            <svg width="12" height="18" viewBox="0 0 12 18"><path d="M10 1L2 9L10 17" stroke="white" stroke-width="2"/></svg>
        </button>
        <button class="gallery__btn gallery__btn--next">
            <svg width="12" height="18" viewBox="0 0 12 18"><path d="M2 1L10 9L2 17" stroke="white" stroke-width="2"/></svg>
        </button>

        <!-- Точки -->
        <div class="gallery__dots">
            <span class="gallery__dot active" data-index="0"></span>
            <span class="gallery__dot" data-index="1"></span>
            <span class="gallery__dot" data-index="2"></span>
            <span class="gallery__dot" data-index="3"></span>
            <span class="gallery__dot" data-index="4"></span>
            <span class="gallery__dot" data-index="5"></span>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const galleries = document.querySelectorAll('.gallery-component');

        galleries.forEach(gallery => {
            const images = [
                '@@img1', '@@img2', '@@img3',
                '@@img4', '@@img5', '@@img6'
            ].filter(src => src && !src.startsWith('@@'));

            if (images.length === 0) return;

            const slideImg = gallery.querySelector('#currentSlide');
            const dots = gallery.querySelectorAll('.gallery__dot');
            const prevBtn = gallery.querySelector('.gallery__btn--prev');
            const nextBtn = gallery.querySelector('.gallery__btn--next');

            let currentIndex = 0;

            function updateSlider() {
                slideImg.src = images[currentIndex];
                dots.forEach(dot => dot.classList.remove('active'));
                if (dots[currentIndex]) dots[currentIndex].classList.add('active');
            }

            prevBtn.addEventListener('click', (e) => {
                e.preventDefault();
                currentIndex = (currentIndex - 1 + images.length) % images.length;
                updateSlider();
            });

            nextBtn.addEventListener('click', (e) => {
                e.preventDefault();
                currentIndex = (currentIndex + 1) % images.length;
                updateSlider();
            });

            dots.forEach((dot, index) => {
                dot.addEventListener('click', (e) => {
                    e.preventDefault();
                    currentIndex = index;
                    updateSlider();
                });
            });

            // Инициализация
            updateSlider();
        });
    });
</script>